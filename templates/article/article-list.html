{% extends 'Shared/base.html' %}
{% load static %}
{% load humanize %}
{% load render_partial %}
{% block title %}برای برنامه نویسان{% endblock %}
{% block content %}
    <section class="cta-section theme-bg-light py-5">
        <div class="container text-center">
            <h2 class="heading sahel-bold">پروگما | برای برنامه نویسان</h2>
            {#            <div class="intro sahel ">دنبال چه میگردی ؟</div>#}
            <form action="{% url 'article:article_search' %}"
                  class="signup-form form-inline justify-content-center pt-3 mt-3">
                <div class="form-group">
                    <label class="sr-only" for="semail">جست و جو</label>
                    <input type="search" id="s" name="s" class="form-control ml-md-1 semail sahel"
                           placeholder="دنبال چه میگردی ؟">
                </div>
                <button type="submit" class="btn btn-primary sahel">جست و جو</button>
            </form>
        </div><!--//container-->
    </section>
    <section class="blog-list px-3 py-5 p-md-5">
        <div class="container">
            {% for article in page_obj %}
                <div class="item mb-3">
                    <div class="media">
                        <a href="{% url 'article:article_detail' article.slug %}"><img
                                class="ml-3 img-fluid post-thumb d-none d-md-flex"
                                src="{{ article.image_list.url }}" alt="{{ article.title }}"></a>
                        <div class="media-body">
                            <h3 class="title mb-1"><a
                                    href="{% url 'article:article_detail' article.slug %}">{{ article.title }}</a>
                            </h3>
                            <div class="meta mb-1"><span class="date">{{ article.publish|naturaltime }}</span><span
                                    class="time">{{ article.hits.count }} بازدید</span><span
                                    class="comment"><a href="#">8 دیدگاه</a></span></div>
                            <div class="intro text-justify">{{ article.description|striptags|truncatewords:50 }}
                            </div>
                            <a class="more-link" href="{% url 'article:article_detail' article.slug %}">&rarr; ادامه
                                مقاله</a>
                        </div><!--//media-body-->
                    </div><!--//media-->
                </div><!--//item-->
                <hr>
            {% empty %}
                <p class="alert alert-warning">مقاله ای یافت نشد</p>
            {% endfor %}
            <div class="row">
                {% if page_obj.has_previous and not page_obj.has_next %}
                    <div class="col-12">
                        <nav class="blog-nav nav nav-justified my-5">
                            <a class="nav-link-prev nav-item nav-link rounded sahel mx-1"
                               href="?page={{ page_obj.previous_page_number }}">قبلی<i
                                    class="arrow-prev fas fa-long-arrow-alt-right sahel"></i></a>
                            {% comment %}<a class="nav-link-next nav-item nav-link rounded sahel mx-1" href="blog-list.html">بعدی<i
                            class="arrow-next fas fa-long-arrow-alt-left"></i></a>{% endcomment %}
                        </nav>
                    </div>
                {% elif page_obj.has_next and not page_obj.has_previous %}
                    <div class="col-12">
                        <nav class="blog-nav nav nav-justified my-5">
                            <a class="nav-link-prev nav-item nav-link rounded sahel mx-1"
                               href="?page={{ page_obj.next_page_number }}">بعدی<i
                                    class="arrow-prevl fas fa-long-arrow-alt-left sahel"></i></a>
                            {% comment %}<a class="nav-link-next nav-item nav-link rounded sahel mx-1" href="blog-list.html">بعدی<i
                            class="arrow-next fas fa-long-arrow-alt-left"></i></a>{% endcomment %}
                        </nav>
                    </div>
                {% elif page_obj.has_previous and page_obj.has_next %}
                    <div class="col-6">
                        <nav class="blog-nav nav nav-justified my-5">
                            <a class="nav-link-prev nav-item nav-link rounded sahel mx-1"
                               href="?page={{ page_obj.previous_page_number }}">قبلی<i
                                    class="arrow-prev fas fa-long-arrow-alt-right sahel"></i></a>
                            {% comment %}<a class="nav-link-next nav-item nav-link rounded sahel mx-1" href="blog-list.html">بعدی<i
                            class="arrow-next fas fa-long-arrow-alt-left"></i></a>{% endcomment %}
                        </nav>
                    </div>
                    <div class="col-6">
                        <nav class="blog-nav nav nav-justified my-5">
                            <a class="nav-link-prev nav-item nav-link rounded sahel mx-1"
                               href="?page={{ page_obj.next_page_number }}">بعدی<i
                                    class="arrow-prevl fas fa-long-arrow-alt-left sahel"></i></a>
                            {% comment %}<a class="nav-link-next nav-item nav-link rounded sahel mx-1" href="blog-list.html">بعدی<i
                            class="arrow-next fas fa-long-arrow-alt-left"></i></a>{% endcomment %}
                        </nav>
                    </div>
                {% endif %}

                <div class="col-12 text-center"><p class="text-primary text-center">صفحه {{ page_obj.number }}
                    از {{ page_obj.paginator.num_pages }}</p>
                </div>
                <div class="col-12 intro sahel text-center mt-3">برای دریافت آخرین مقالات از طریق ایمیل <a
                        href="{% url 'subscribers:subscribe' %}">کلیک</a> کن !
                </div>
            </div>
        </div>

    </section>
{% endblock %}